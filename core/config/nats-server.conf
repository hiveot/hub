# Static NATS server configuration
# location: $hiveot/config/nats-server.conf, where $hiveot is the application installation folder
# This file is auto generated if it doesn't exist. It can be edited afterwards.

# some defaults
host: 127.0.0.1
port: 4222
jetstream: enabled

# The hiveot hub uses the hiveot account
accounts {
   hiveot: {
        jetstream {
           store_dir: $HOME/bin/hiveot/stores/jetstream
           max_mem: 1G
           max_file: 100G
        }

   }
}

# server must use TLS
tls {
    # The CA is a self-signed certificate, generated by the Hub
    # An external CA such as LetsEncrypt, is a future option.
    ca_file:  "caCert.pem"
    # The nats server certificate and key, created using the CA
    cert_file:  "natsCert.pem"
    key_file:  "natsKey.pem"
    # server must verify client certificate, if provided
    verify: true

    # tbd support client certificates to identify the client.
    # the certificate SAN maps to a user; for example the SAN email admin@localhost
    # will match the admin user in authorization.
    #verify_and_map: true
}

# predefined users
authorization {
   users = [
      {admin: "admin@localhost"}
   ]
}