// Package authz with types of service 'User' from agent 'authz'
// DO NOT EDIT. This file is auto generated by tm2go. Any changes will be overwritten.
// Intended for use by both service agents and consumer.
// Generated 18 Nov 2025 13:58 PST. 
package authz


//--- Constants ---

// UserAgentID is the account ID of the agent managing the Thing.
const UserAgentID = "authz"

// UserServiceID is the thingID of the device/service as used by agents.
// Agents use this to publish events and subscribe to actions
const UserServiceID = "User"

// UserDThingID is the Digitwin thingID as used by consumers. Digitwin adds the dtw:{agent} prefix to the serviceID
// Consumers use this to publish actions and subscribe to events
const UserDThingID = "dtw:authz:User"

// Property, Event and Action names
const (
    UserActionSetPermissions = "setPermissions"
)

//--- Schema definitions of Thing 'user' ---

// ThingPermissions defines a Thing Permissions data schema.
//
// This defines the roles that have permissions to access this thing
// Used by agents and services to set the roles that can invoke actions on a service.
// These permissions are default recommendations made by the service provider.
// The authz service can override these defaults with another configuration.
type ThingPermissions struct {
    
    // AgentID with Agent ID
    //
    // The agent granting the permissions.
    AgentID string `json:"agentID,omitempty"`
    
    // Allow with Roles
    //
    // Roles allowed access to a Thing
    Allow []ClientRole `json:"allow,omitempty"`
    
    // Deny with 
    Deny []ClientRole `json:"deny,omitempty"`
    
    // ThingID with Thing ID
    //
    // ThingID of the service whose permissions are set.
    // This is the ThingID as send by the agent, without the digitwin prefix.
    ThingID string `json:"thingID,omitempty"`
}

// ClientRole enumerator
type ClientRole string
const (
    
    // ClientRoleNone for No role
    //
    // No role means that the user has no permissions.
    // It can not do anything until the role is upgraded to viewer or better
    // Read permissions: none
    // Write permissions: none
    ClientRoleNone ClientRole = "none"
    
    // ClientRoleAdmin for Administrator role
    //
    // Administrators can publish and subscribe to any sources and invoke all services
    // Read permissions: subEvents, subActions
    // Write permissions: pubEvents, pubActions, pubConfig
    ClientRoleAdmin ClientRole = "admin"
    
    // ClientRoleAgent for Device agent role
    //
    // Device agents can publish thing events and subscribe to device actions
    // Read permissions: subActions
    // Write permissions: pubTDs, pubEvents
    ClientRoleAgent ClientRole = "agent"
    
    // ClientRoleManager for Manager role
    //
    // Managers can subscribe to Thing TD, events, publish actions and update configuration
    // Read permissions: subEvents
    // Write permissions: pubActions, pubConfig
    ClientRoleManager ClientRole = "manager"
    
    // ClientRoleOperator for Operator role
    //
    // Operators can subscribe to events and publish actions
    // Read permissions: subEvents
    // Write permissions: pubActions
    ClientRoleOperator ClientRole = "operator"
    
    // ClientRoleService for Service role
    //
    // Services act as an admin user and a device
    // Read permissions: subEvents, subActions, subConfig
    // Write permissions: pubEvents, pubActions, pubConfig
    ClientRoleService ClientRole = "service"
    
    // ClientRoleViewer for Viewer role
    //
    // Viewers can read TDs and subscribe to Thing Events
    // Read permissions: subEvents
    // Write permissions: none
    ClientRoleViewer ClientRole = "viewer"
)

//--- Argument and Response struct for action of Thing 'user' ---

const UserSetPermissionsMethod = "setPermissions"


// UserTD contains the raw TD of this service for publication to the Hub
const UserTD = `{"actions":{"setPermissions":{"@type":"hiveot:function","description":"Set the roles that can use a Thing or service","title":"Set Permissions","idempotent":true,"input":{"title":"Permissions","readOnly":false,"type":"ThingPermissions"}}},"@context":["https://www.w3.org/2022/wot/td/v1.1",{"hiveot":"https://www.hiveot.net/vocab/v0.1"}],"@type":"Service","created":"2024-06-04T17:00:00.000Z","deny":["none"],"description":"HiveOT runtime service for services setting permissions","events":{},"id":"User","modified":"2024-06-04T17:00:00.000Z","properties":{},"schemaDefinitions":{"ThingPermissions":{"title":"Thing Permissions","description":"This defines the roles that have permissions to access this thing","comments":["Used by agents and services to set the roles that can invoke actions on a service.","These permissions are default recommendations made by the service provider.","The authz service can override these defaults with another configuration."],"readOnly":false,"type":"object","properties":{"agentID":{"title":"Agent ID","description":"The agent granting the permissions.","readOnly":false,"type":"string"},"allow":{"title":"Roles","description":"Roles allowed access to a Thing","readOnly":false,"type":"array","items":{"title":"Role","description":"Role allowed access to a Thing","readOnly":false,"type":"ClientRole"}},"deny":{"readOnly":false,"type":"array","items":{"title":"Role","description":"Role denied access to the Thing","readOnly":false,"type":"ClientRole"}},"thingID":{"title":"Thing ID","description":"ThingID of the service whose permissions are set.","comments":["This is the ThingID as send by the agent, without the digitwin prefix."],"readOnly":false,"type":"string"}}},"clientRole":{"title":"Client Roles","oneOf":[{"title":"No role","description":"No role means that the user has no permissions.","comments":["It can not do anything until the role is upgraded to viewer or better","Read permissions: none","Write permissions: none"],"const":"none","readOnly":false},{"title":"Administrator role","description":"Administrators can publish and subscribe to any sources and invoke all services","comments":["Read permissions: subEvents, subActions","Write permissions: pubEvents, pubActions, pubConfig"],"const":"admin","readOnly":false},{"title":"Device agent role","description":"Device agents can publish thing events and subscribe to device actions","comments":["Read permissions: subActions","Write permissions: pubTDs, pubEvents"],"const":"agent","readOnly":false},{"title":"Manager role","description":"Managers can subscribe to Thing TD, events, publish actions and update configuration","comments":["Read permissions: subEvents","Write permissions: pubActions, pubConfig"],"const":"manager","readOnly":false},{"title":"Operator role","description":"Operators can subscribe to events and publish actions","comments":["Read permissions: subEvents","Write permissions: pubActions"],"const":"operator","readOnly":false},{"title":"Service role","description":"Services act as an admin user and a device","comments":["Read permissions: subEvents, subActions, subConfig","Write permissions: pubEvents, pubActions, pubConfig"],"const":"service","readOnly":false},{"title":"Viewer role","description":"Viewers can read TDs and subscribe to Thing Events","comments":["Read permissions: subEvents","Write permissions: none"],"const":"viewer","readOnly":false}],"readOnly":false,"type":"string"}},"security":null,"securityDefinitions":null,"title":"Authorization Client Services","support":"https://www.github.com/hiveot/hub"}`